{% extends 'base.html' %}
{% block content %} 
<div class="content" id="container">
    <div class="container-fluid">
        <!--message alert -->
        {% if messages %}
            {% for message in messages %}
                {%include 'app/alerts/alert.html'%}
            {% endfor %}
        {% endif %}
        <form method="POST"  action="{% url 'planning' %}">
            <!-- Security token by Django -->
            {% csrf_token %}
            <div class="row">
                <div class="col-4">
                    <div class="card card-row" >
                        <div class="card-header"style="background-color: #2a9d8f; color:white;">
                            <h3 class="card-title">
                            Divisions
                            </h3>
                        </div>
                        <div class="card-body">
                            <select name="division_name" size="1"  class="custom-select form-control-border" id="exampleSelectBorder">
                                {% for item in divisions_list %}
                                <option value="{{item.name}}" {% if division == item.name %} selected {% endif %}>{{item.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="card card-row card-info">
                        <div class="card-header">
                            <h3 class="card-title">
                            Profit Center
                            </h3>
                        </div>
                        <div class="card-body">
                            <select name="center_profit" size="1" size="1"  class="custom-select form-control-border" id="exampleSelectBorder">
                                {% for item in center_profit_list %}
                                <option value="{{item.Profit_center}}" {% if item.Profit_center in profit_center%} selected {% endif %}>{{item.Profit_center}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                    </div>
                </div>
                <div class="col-4">
                    <div class="card card-row card-primary">
                        <div class="card-header">
                            <h3 class="card-title">
                            Planning
                            </h3>
                        </div>
                            <div class="card-body">
                                    <select name="planning" size="1" size="1"  class="custom-select form-control-border" id="exampleSelectBorder">
                                        {% for item in planning_list %}
                                        <option value="{{item.planning}}" {% if item.planning in planning   %} selected {% endif %}>{{item.planning}}</option>
                                        {% endfor %}
                                    </select> 
                        </div>
                    </div>
                </div>
<!-- 
                <div class="col-3">
                    <div class="card card-row">
                        <div class="card-header" style="background-color:#0077b6; color:white;">
                            <h3 class="card-title">
                           Week Or Month
                            </h3>
                        </div>
                        <div class="card-body">
                            <select name="week" size="1" size="1"  class="custom-select form-control-border" id="exampleSelectBorder">
                                <option >Week</option> 
                                <option >Month</option> 
                                 
                               
                            </select> 
                        </div>
                    </div>
                </div> -->
            </div>
            <div class="row">
                <div class="col-4 offset-4">
                    <button type="submit" class="btn btn-outline-primary" style="width:100%;">
                        <i class="fa-solid fa-check"></i>
                       Apply
                    </button>
                
                </div>
            </div>
        </form>

    </div>
</div>
<br>
<hr>


<!-- <div class="col-12">
    <div class="info-box">
        <span class="info-box-icon bg-info elevation-1"><i class="fa-regular fa-compass"></i></span>
        <div class="info-box-content">
            <span class="info-box-text">Demand vs. Production</span>
       </div>
    </div>
</div> -->


<div  class="row">
    <div class="col-12">
        <div class="card card-primary card-outline">
            <div class="card-header">
              <h3 class="card-title">
                <i class="far fa-chart-bar"></i>
                    Demand | Production
                </h3>
                <div class="card-tools"> 
                    <ul class="list-group list-group-horizontal" style="height: 35px;">
                        <button onclick="myFunction()" id="switch_month_week" style="background-color: white;border:1px solid rgba(0,0,0,.125);">Month</button>
                        <li class="list-group-item" style="padding:4px;"><i type="button" data-toggle="modal" data-target="#test_stocked " class="info fas fa-info-circle" style="margin-bottom:7px;"></i></li>
                        <li class="list-group-item" style="padding:3px;"><button type="button" class="btn btn-tool" data-card-widget="collapse" style="padding:3px;padding-top: 0px;">
                            <i class="fas fa-minus"></i></button></li>
                        <li class="list-group-item" style="padding:8px;"><button type="bpxutton" class="btn btn-tool" data-card-widget="maximize" style="padding:3px;padding-top: 0px;margin-bottom: 0px;"><i class="fas fa-expand"></i></button></li>
                    </ul>  
                </div> 
                </div>
                <div id="demand_prod_planning_week" style="display:block ;" >
                    {% include 'app/charts/demand_prod_planning_week.html' %}
                </div>
                <div id="demand_prod_planning_month" style="display:none ;" >
                    {% include 'app/charts/demand_prod_planning_month.html' %}

                </div>
                <div class="card-footer clearfix">
                </div>
        </div> 
    </div>
</div> 


    
<!--Program demand  -->
<div class="modal" id="test_stocked" >
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">						
                <h4 class="modal-title">Informations</h4>
            </div>
            <div class="modal-body">	

            </div>
            <div class="modal-footer">
                <input type="button" href="" class="btn btn-secondary" data-dismiss="modal" value="Cancel">
                <!-- <a href="" id='targetlink' class="btn btn-danger" value="Delete">Delete</a>   -->
            </div>
        </div>
    </div>
</div>

<!--Cycle time -->
<div  class="row">
    <div class="col-12">
        <div class="card card-primary card-outline">
            <div class="card-header">
              <h3 class="card-title">
                <i class="far fa-chart-bar"></i>
                    Cycle Time
                </h3>
                <div class="card-tools"> 
                    <ul class="list-group list-group-horizontal" style="height: 35px;">
                        <button onclick="myFunction_cycle()" id="switch_month_week_cycle" style="background-color: white;border:1px solid rgba(0,0,0,.125);">Month</button>
                        <li class="list-group-item" style="padding:4px;"><i type="button" data-toggle="modal" data-target="#test_stocked " class="info fas fa-info-circle" style="margin-bottom:7px;"></i></li>
                        <li class="list-group-item" style="padding:3px;"><button type="button" class="btn btn-tool" data-card-widget="collapse" style="padding:3px;padding-top: 0px;">
                            <i class="fas fa-minus"></i></button></li>
                        <li class="list-group-item" style="padding:8px;"><button type="bpxutton" class="btn btn-tool" data-card-widget="maximize" style="padding:3px;padding-top: 0px;margin-bottom: 0px;"><i class="fas fa-expand"></i></button></li>
                        
                    </ul>  
                </div> 
                </div>
                <div id="cycle_kpi_week" style="display:block ;" >
                    {% include 'app/charts/week_cycle_count.html' %}
                </div>
                <div id="cycle_kpi_month" style="display:none ;" >
                    {% include 'app/charts/month_cycle_count.html' %}

                </div>
                <div class="card-footer clearfix">
                </div>
        </div> 
    </div>
</div> 

<!-- Production plan-->
<div  class="row">
    <div class="col-12">
        <div class="card card-primary card-outline">
            <div class="card-header">
              <h3 class="card-title">
                <i class="far fa-chart-bar"></i>
                   Production Plan
                </h3>
                <div class="card-tools"> 
                    <ul class="list-group list-group-horizontal" style="height: 35px;">
                        <button onclick="myFunction_production()" id="switch_month_week_production" style="background-color: white;border:1px solid rgba(0,0,0,.125);">Month</button>
                        <li class="list-group-item" style="padding:4px;"><i type="button" data-toggle="modal" data-target="#test_stocked " class="info fas fa-info-circle" style="margin-bottom:7px;"></i></li>
                        <li class="list-group-item" style="padding:3px;"><button type="button" class="btn btn-tool" data-card-widget="collapse" style="padding:3px;padding-top: 0px;">
                            <i class="fas fa-minus"></i></button></li>
                        <li class="list-group-item" style="padding:8px;"><button type="bpxutton" class="btn btn-tool" data-card-widget="maximize" style="padding:3px;padding-top: 0px;margin-bottom: 0px;"><i class="fas fa-expand"></i></button></li>
                        
                    </ul>  
                </div> 
                </div>
                <div id="production_plan_week" style="display:block ;" >
                    {% include 'app/charts/week_production_plan.html' %}
                </div>
                <div id="production_plan_month" style="display:none ;" >
                    {% include 'app/charts/month_production_plan.html' %}

                </div>
                <div class="card-footer clearfix">
                </div>
        </div> 
    </div>
</div> 

<!-- Script for Ddemand production graph  -->
<script>
    function myFunction() {
      var week = document.getElementById("demand_prod_planning_week");
      var month = document.getElementById("demand_prod_planning_month");
      var btn = document.getElementById("switch_month_week");
      
      if (week.style.display === "block") {
        week.style.display = "none";
        month.style.display = "block";
        btn.textContent='Week';
      }  
      else {
        week.style.display = "block";
        month.style.display = "none";
        btn.textContent='Month';


      }

    }
    </script>
<!-- Script for cycle time graph -->
<script>
    function myFunction_cycle() {
      var week = document.getElementById("cycle_kpi_week");
      var month = document.getElementById("cycle_kpi_month");
      var btn = document.getElementById("switch_month_week_cycle");
      
      if (week.style.display === "block") {
        week.style.display = "none";
        month.style.display = "block";
        btn.textContent='Week';
      }  
      else {
        week.style.display = "block";
        month.style.display = "none";
        btn.textContent='Month';
      }
    }
    </script>

    <!-- Script for production plan graph -->
<script>
    function myFunction_production() {
      var week = document.getElementById("production_plan_week");
      var month = document.getElementById("production_plan_month");
      var btn = document.getElementById("switch_month_week_production");
      
      if (week.style.display === "block") {
        week.style.display = "none";
        month.style.display = "block";
        btn.textContent='Week';
      }  
      else {
        week.style.display = "block";
        month.style.display = "none";
        btn.textContent='Month';
      }
    }
    </script>

{% endblock content%}